<html>
	<head>
		<title>RESDuino Controller</title>
	</head>
	<body>
	
		<h3>digital pins PWM values:</h3>
		<ol>
			<li><input id="d1Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display1',this.value)" onMouseUp="sendToRestduino(1,this.value)">&nbsp;
				<input id="display1" type="text" value="0"></li>
			<li><input id="d2Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display2',this.value)" onMouseUp="sendToRestduino(2,this.value)">&nbsp;
				<input id="display2" type="text" value="0"></li>
			<li><input id="d3Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display3',this.value)" onMouseUp="sendToRestduino(3,this.value)">&nbsp;
				<input id="display3" type="text" value="0"></li>
			<li><input id="d4Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display4',this.value)" onMouseUp="sendToRestduino(4,this.value)">&nbsp;
				<input id="display4" type="text" value="0"></li>
			<li><input id="d5Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display5',this.value)" onMouseUp="sendToRestduino(5,this.value)">&nbsp;
				<input id="display5" type="text" value="0"></li>
			<li><input id="d6Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display6',this.value)" onMouseUp="sendToRestduino(6,this.value)">&nbsp;
				<input id="display6" type="text" value="0"></li>
			<li><input id="d7Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display7',this.value)" onMouseUp="sendToRestduino(7,this.value)">&nbsp;
				<input id="display7" type="text" value="0"></li>
			<li><input id="d8Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display8',this.value)" onMouseUp="sendToRestduino(8,this.value)">&nbsp;
				<input id="display8" type="text" value="0"></li>
			<li><input id="d9Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display9',this.value)" onMouseUp="sendToRestduino(9,this.value)">&nbsp;
				<input id="display9" type="text" value="0"></li>
			<li><input id="d10Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display10',this.value)" onMouseUp="sendToRestduino(10,this.value)">&nbsp;
				<input id="display10" type="text" value="0"></li>
			<li><input id="d11Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display11',this.value)" onMouseUp="sendToRestduino(11,this.value)">&nbsp;
				<input id="display11" type="text" value="0"></li>
			<li><input id="d12Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display12',this.value)" onMouseUp="sendToRestduino(12,this.value)">&nbsp;
				<input id="display12" type="text" value="0"></li>
			<li><input id="d13Input" type="range" min="0" max="255" value="0" onChange="updateDisplay('display13',this.value)" onMouseUp="sendToRestduino(13,this.value)">&nbsp;
				<input id="display13" type="text" value="0"></li>
		</ol>
		
		<script>
			
			function updateDisplay(control, value){
				
				document.getElementById(control).value = value;
			}
			
			function sendToRestduino(pin, value){
				
				// debug
				console.log('sending ' + value + ' to pin ' + pin);
				
				restduinoReq = new XMLHttpRequest();
				restduinoReq.open('GET', 'http://10.0.1.53/' + pin + '/' + value, true);
				restduinoReq.onreadystatechange = restduinoRes;
				restduinoReq.send();
				
				function restduinoRes(){
					
					console.log('got response from restduino');
					
					if(this.readyState == 4){
						if(this.status == 200){
							console.log(this.status);
						}
					}
				}
			}
			
		</script>
	</body>
</html>
